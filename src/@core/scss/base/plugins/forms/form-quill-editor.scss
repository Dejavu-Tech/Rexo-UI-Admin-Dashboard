@import '../../bootstrap-extended/include';
@import '../../components/include';

// 设置下拉菜单字体
.ql-toolbar .ql-font span[data-label='Sailec Light']::before {
  font-family: 'Sailec Light';
}
.ql-toolbar .ql-font span[data-label='Sofia Pro']::before {
  font-family: 'Sofia';
}
.ql-toolbar .ql-font span[data-label='Slabo 27px']::before {
  font-family: 'Slabo 27px';
}
.ql-toolbar .ql-font span[data-label='Roboto Slab']::before {
  font-family: 'Roboto Slab';
}
.ql-toolbar .ql-font span[data-label='Inconsolata']::before {
  font-family: 'Inconsolata';
}
.ql-toolbar .ql-font span[data-label='Ubuntu Mono']::before {
  font-family: 'Ubuntu Mono';
}

// 设置内容字体
.ql-font-sofia {
  font-family: 'Sofia';
}
.ql-font-slabo {
  font-family: 'Slabo 27px';
}
.ql-font-roboto {
  font-family: 'Roboto Slab';
}
.ql-font-inconsolata {
  font-family: 'Inconsolata';
}
.ql-font-ubuntu {
  font-family: 'Ubuntu Mono';
}

// Quill 富文本编辑器
.ql-toolbar {
  border-color: $custom-control-border-color !important;
  .ql-formats {
    &:focus,
    *:focus {
      outline: 0;
    }
    // 按钮和标签悬停
    .ql-picker-label,
    button {
      &:hover,
      &:focus {
        color: $primary !important;
        .ql-stroke {
          stroke: $primary !important;
        }
        .ql-fill {
          fill: $primary !important;
        }
      }
      &.ql-active {
        color: $primary !important;
      }
    }
    .ql-picker-item.ql-selected {
      color: $primary !important;
    }
    // quill 下拉项悬停
    .ql-picker-options {
      .ql-picker-item:hover {
        color: $primary !important;
      }
      .ql-active {
        color: $primary !important;
      }
    }
  }
}
.ql-bubble {
  .ql-picker {
    color: $white !important;
  }
  // stroke 选项颜色
  .ql-stroke {
    stroke: $white !important;
  }
  // fill 选项颜色
  .ql-fill {
    fill: $white !important;
  }
}
.ql-container {
  border-color: $custom-control-border-color !important;
  font-family: $font-family-monospace;
}
.ql-editor {
  a {
    color: $primary;
  }
}
// 默认下拉项
.ql-picker {
  color: $headings-color !important;
}
// stroke 选项颜色
.ql-stroke {
  stroke: $headings-color !important;
}
.ql-active {
  .ql-stroke {
    stroke: $primary !important;
  }
  .ql-fill {
    fill: $primary !important;
  }
}
// fill 选项颜色
.ql-fill {
  fill: $headings-color !important;
}
// 编辑器圆角
.ql-toolbar,
.ql-container {
  border-top-right-radius: $border-radius;
  border-top-left-radius: $border-radius;
}
.ql-toolbar {
  + .ql-container,
  .ql-container + & {
    // ? 如果容器/工具栏位于另一方下方时添加底部圆角
    border-bottom-right-radius: $border-radius;
    border-bottom-left-radius: $border-radius;
    // ? 如果容器/工具栏位于另一方上方时删除顶部圆角
    border-top-right-radius: unset;
    border-top-left-radius: unset;
  }
}

// 深色布局
.dark-layout {
  .quill-toolbar,
  .ql-toolbar {
    background-color: $theme-dark-input-bg;
    border-color: $theme-dark-border-color !important;

    // 工具栏颜色
    .ql-picker {
      color: $white !important;
    }

    .ql-stroke {
      stroke: $white !important;
    }

    .ql-fill {
      fill: $white !important;
    }

    // 工具栏颜色
    .ql-picker-options,
    .ql-picker-label {
      background-color: $theme-dark-input-bg;
      .ql-active {
        color: $primary !important;
      }
    }
  }
  .ql-active {
    .ql-stroke {
      stroke: $primary !important;
    }
    .ql-fill {
      fill: $primary !important;
    }
  }
  .ql-bubble {
    .ql-toolbar {
      background: $theme-dark-border-color;
      border-radius: 2rem;
    }
  }

  .ql-container {
    border-color: $theme-dark-border-color !important;
    background-color: $theme-dark-input-bg;
  }

  // 语法颜色
  .ql-editor {
    .ql-syntax {
      background-color: $theme-dark-body-bg;
    }

    &.ql-blank {
      &:before {
        color: $theme-dark-body-color;
      }
    }
  }
}

// RTL 模式
[data-textdirection='rtl'] {
  .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) {
    i,
    svg {
      left: auto !important;
      right: 0;
    }
  }
}
